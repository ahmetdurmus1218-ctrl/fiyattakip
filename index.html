<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#2f3b9b" />
  <title>FiyatTakip</title>

  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="icons/icon-192.png">
  <link rel="apple-touch-icon" href="icons/icon-192.png">

  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- AUTH OVERLAY (arka menÃ¼ler gÃ¶rÃ¼nmesin diye) -->
  <div id="authOverlay" class="authOverlay">
    <div class="authPhoneFrame">
      <div class="authCard">
        <div class="authBrand">
          <div class="brandDot"></div>
          <div>
            <div class="brandTitle">fiyattakip</div>
            <div class="brandSub">HesabÄ±nla giriÅŸ yap</div>
          </div>
        </div>

        <div class="authTabs">
          <button id="tabSignIn" class="tab active" type="button">Sign In</button>
          <button id="tabSignUp" class="tab" type="button">Sign Up</button>
        </div>

        <div class="authForm">
          <label class="lbl">Email</label>
          <input id="authEmail" class="inp" type="email" placeholder="mail@ornek.com" autocomplete="email">

          <label class="lbl">Password</label>
          <div class="passRow">
            <input id="authPass" class="inp" type="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" autocomplete="current-password">
            <button id="togglePass" class="iconBtn" type="button" title="GÃ¶ster/Gizle">ğŸ‘ï¸</button>
          </div>

          <div id="confirmWrap" class="hidden">
            <label class="lbl">Confirm Password</label>
            <div class="passRow">
              <input id="authPass2" class="inp" type="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" autocomplete="new-password">
              <button id="togglePass2" class="iconBtn" type="button" title="GÃ¶ster/Gizle">ğŸ‘ï¸</button>
            </div>
          </div>

          <button id="authPrimaryBtn" class="primaryBtn" type="button">GiriÅŸ Yap</button>

          <div class="mutedRow">
            <button id="btnReset" class="linkBtn" type="button">Åifreyi sÄ±fÄ±rla</button>
            <span class="muted">â€¢</span>
            <button id="btnResendVerify" class="linkBtn" type="button">DoÄŸrulama maili</button>
          </div>

          <div class="orRow"><span>veya</span></div>

          <button id="btnGoogle" class="socialBtn" type="button">G ile Google</button>

          <div id="authMsg" class="msg"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- TOP BAR -->
  <header class="topbar">
    <div class="logoPill">fiyattakip</div>

    <div class="topbarBtns">
      <button id="btnNotifPerm" class="topIcon" title="Bildirim izni">ğŸ””</button>

      <button id="btnAiToggle" class="topIcon" title="AI Arama">ğŸ¤–</button>

      <button id="btnLogout" class="topPill danger" title="Ã‡Ä±kÄ±ÅŸ">Ã‡Ä±kÄ±ÅŸ</button>
    </div>
  </header>

  <main class="container">

    <!-- AI ARAMA (demo; API key alanÄ± var) -->
    <section id="aiBox" class="card hidden">
      <div class="cardTitleRow">
        <h2>AI Arama (Demo)</h2>
        <span class="badge">Gemini/GPT</span>
      </div>

      <div class="grid2">
        <div>
          <label class="lbl">AI Provider</label>
          <select id="aiProvider" class="sel">
            <option value="demo">Demo</option>
            <option value="openai">OpenAI (placeholder)</option>
            <option value="gemini">Gemini (placeholder)</option>
          </select>
        </div>

        <div>
          <label class="lbl">API Key (ÅŸimdilik saklanÄ±r)</label>
          <input id="aiKey" class="inp" type="password" placeholder="API KEY">
        </div>
      </div>

      <label class="lbl">Ne arayalÄ±m?</label>
      <input id="aiPrompt" class="inp" placeholder="Ã–rn: Xiaomi Pad 7 256GB en iyi fiyat linkleri">

      <button id="btnAiRun" class="primaryBtn" type="button">AI ile Ã–neri (Demo)</button>
      <div id="aiOut" class="msg"></div>
    </section>

    <!-- ARAMA -->
    <section class="card">
      <div class="cardTitleRow">
        <h1>Fiyat KarÅŸÄ±laÅŸtÄ±r</h1>
        <span class="badge">Site iÃ§i â€œucuzdanâ€</span>
      </div>
      <p class="muted">
        ÃœrÃ¼n adÄ±nÄ± yaz, seÃ§tiÄŸin sitelerde arama aÃ§ar. (Uygulama iÃ§inden direkt fiyat Ã§ekmek CORS/captcha yÃ¼zÃ¼nden yok.)
      </p>

      <div class="siteChips" id="siteChips"></div>

      <div class="row">
        <input id="q" class="inp big" placeholder="ÃœrÃ¼n adÄ±nÄ± yazÄ±n..." />
        <button id="btnSearch" class="primaryBtn">Ara</button>
      </div>

      <div class="subtle">
        <b>Arama satÄ±rlarÄ±</b> â€“ Her satÄ±r: seÃ§ili sitede arama aÃ§ar + â€œFavoriâ€ hatÄ±rlanÄ±r.
      </div>

      <div class="row">
        <button id="btnClearResults" class="ghostBtn">Temizle</button>
      </div>

      <div id="results" class="resultsBox">
        <div class="muted">HenÃ¼z arama yapÄ±lmadÄ±.</div>
      </div>
    </section>

    <!-- FAVORÄ°LER -->
    <section class="card">
      <div class="cardTitleRow">
        <h2>â¤ï¸ Favoriler</h2>
        <span class="badge">Linkler gizli</span>
      </div>

      <div class="row wrap">
        <button id="btnRefreshFav" class="ghostBtn">Yenile</button>
        <button id="btnSortFav" class="ghostBtn">Fiyata gÃ¶re sÄ±rala</button>
        <button id="btnClearFav" class="ghostBtn dangerSoft">Favorileri Sil</button>
      </div>

      <div class="muted subtle">
        â€¢ â€œFavori Ekleâ€ tÄ±klayÄ±nca kalp dolu olur ve hangi site favorilendi net gÃ¶rÃ¼nÃ¼r.<br>
        â€¢ â€œFiyat ekleâ€ ile bugÃ¼nkÃ¼ fiyat gir â†’ grafiÄŸe iÅŸlenir ve %5+ dÃ¼ÅŸÃ¼ÅŸte (uygulama aÃ§Ä±kken) bildirim verir.
      </div>

      <div id="favList" class="favList"></div>
    </section>
  </main>

  <!-- Firebase (modular CDN) + app.js -->
  <script type="module" src="app.js"></script>
</body>
</html>
